<div class="container py-4 user-list">

  <!-- Header -->
  <div class="d-flex justify-content-between align-items-center mb-4">
    <h2 class="fw-bold m-0">Users</h2>

    <app-primarybutton
      label="Add User"
      variant="primary"
      (clicked)="openCreateUser()">
    </app-primarybutton>
  </div>

  <!-- Loading / Error -->
  <div *ngIf="loading" class="alert alert-info">Loading usersâ€¦</div>
  <div *ngIf="error" class="alert alert-danger">{{ error }}</div>

  <!-- Users Table -->
  <div *ngIf="!loading && !error" class="table-responsive">
    <table class="table table-striped border secondary table-hover align-middle">
      <thead class="table-light">
        <tr>
          <th>ID</th>
          <th>Full Name</th>
          <th>Email</th>
          <th>Role</th>
          <th>Status</th>
        </tr>
      </thead>

      <tbody>
        <tr *ngFor="let u of users">
          <td>{{ u.userId }}</td>
          <td>{{ u.fullName }}</td>
          <td>{{ u.email }}</td>
          <td>{{ u.role }}</td>
          <td>
            <span 
              class="badge" 
              [ngClass]="u.isActive ? 'bg-success' : 'bg-secondary'">
              {{ u.isActive ? 'Active' : 'Inactive' }}
            </span>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <!-- Create User Modal -->
  <div class="modal fade" id="createUserModal" tabindex="-1" aria-labelledby="createUserModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered modal-lg">
      <div class="modal-content rounded-4 shadow">
        
        <!-- Inject Create Component -->
        <app-user-create></app-user-create>

      </div>
    </div>
  </div>

</div>
